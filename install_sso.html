<html>

<head>
<link rel="stylesheet" href="stylesheets/appvet.css">
</head>

<body>

	<h1>AppVet SSO Installation</h1>

	<ul>
		<li class="big"><a href="#dependencies" target="rightframe">Dependencies</a>
		<li class="big"><a href="#download" target="rightframe">Download</a>
		<li class="big"><a href="#tomcat" target="rightframe">Binary Release Installation</a>
		<li class="big"><a href="#envvar" target="rightframe">Environment
				variables</a>
		<li class="big"><a href="#conf" target="rightframe">Configuration</a>

		</li>
	</ul>
	<hr>
	AppVet provides Single Sign-On (SSO) capability for organizations that
	can provide authentication information from an organization-specific
	authentication system. The following describes the installation of
	AppVet SSO.

	<h2 id="dependencies">Dependencies</h2>
	AppVet SSO requires the installation of AppVet. See instructions for
	installing the
	<a class="underline" href="binary_installation.html"
		target="rightframe">AppVet Binary Release</a>.

	<h2 id="download">Download</h2>
	Download the latest AppVet SSO binary release (
	<code>tar.gz</code>
	) file from
	<a class="underline"
		href="https://github.com/AppVet/appvetsso/releases" target="_blank">https://github.com/AppVet/appvetsso/releases</a>.
	After downloading the AppVet SSO binary release file, extract the
	compressed file onto your local machine.

	<h2 id="tomcat">Binary Release Installation</h2>
	The AppVet binary release contains the following directories:

	<ul>
		<li><code>appvet_sso.war</code>: The AppVet SSO web application.</li>
		<li><code>appvet_sso_files</code>: AppVet SSO directory including
			configuration, log, and app files.</li>
	</ul>

	To install AppVet SSO, copy the
	<code>appvet_sso.war</code>
	file to your
	<code>$CATALINA_HOME/webapps</code>
	directory. Next, copy the
	<code>appvet_sso_files</code>
	directory to your local machine.

	<h2 id="envvar">Environment Variable</h2>

	To ensure proper operation of AppVet SSO, the
	<code>$APPVET_SSO_FILES_HOME</code>
	environment variable must be set to the installation path of your
	<code>appvet_sso_files</code>
	directory. For examples, if you copied
	<code>appvet_sso_files</code>
	to
	<code>$HOME/&lt;username&gt;</code>
	, then:
	<br>
	<br>
	<p style="text-indent: 5em;">
		<code>$APPVET_SSO_FILES_HOME=/home/&lt;username&gt;/appvet_sso_files</code>
	</p>
	<br> Using
	<code>sudo</code>
	, edit
	<code>/etc/profile</code>
	by adding the following:
	<br>
	<br>
	<p>
		<code>
			#Global Environment Variables<br>
			APPVET_SSO_FILES_HOME=/your/path/to/appvet_sso_files<br>
			PATH=$PATH:$APPVET_SSO_FILES_HOME <br> export
			APPVET_SSO_FILES_HOME<br> export PATH <br>
		</code>
	</p>
	<br> Next, reload
	<code>/etc/profile</code>
	by running:
	<br>
	<br>
	<p style="text-indent: 5em;">
		<code># source /etc/profile</code>
	</p>
	<br> in all open terminals. To verify that
	<code>$APPVET_SSO_FILES_HOME</code>

	has been added to your
	<code>$PATH</code>
	variable, run:
	<br>
	<br>
	<p style="text-indent: 5em;">
		<code># printenv APPVET_SSO_FILES_HOME</code>
	</p>
	<br> Next, to allow
	<code>$APPVET_SSO_FILES_HOME</code>

	to be accessed when using
	<code>sudo</code>
	, open a terminal and run:
	<br>
	<br>

	<p style="text-indent: 5em;">
		<code># sudo visudo</code>
	</p>
	<br> From
	<code>visudo</code>
	, add the following line:
	<br>
	<br>
	<p style="text-indent: 5em;">
		<code>Defaults env_keep += "APPVET_SSO_FILES_HOME"</code>
	</p>
	<br> This will force
	<code>sudo</code>
	to preserve and use the
	<code>$APPVET_SSO_FILES_HOME</code>

	environment variable as defined in
	<code>/etc/profile</code>
	(since
	<code>sudo</code>
	typically ignores these environment variables). To verify that
	<code>$APPVET_SSO_FILES_HOME</code>
	is now accessible to
	<code>sudo</code>
	, run:
	<br>
	<br>
	<p style="text-indent: 5em;">
		<code># sudo printenv APPVET_SSO_FILES_HOME</code>
	</p>
	<br>



	<h2 id="conf">Configuration</h2>
	
		To configure AppVet SSO, edit the AppVet SSO properties file located in your
	<code>$APPVET_SSO_FILES_HOME/conf/AppVetSSOProperties.xml</code>
	file. For more information, see  
	<a class="underline" href="schemas/AppVetSSOProperties.html" target="rightframe">AppVet
		SSO Properties</a>.


</body>

</html>