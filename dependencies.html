<html>

<head>
<title>AppVet Dependencies</title>
<link rel="stylesheet" href="stylesheets/appvet.css">
</head>

<body>
	<h1>AppVet Dependencies Installation</h1>

	AppVet requires the following platforms and tools to be installed:
	<br>
	<ul>
		<li><a href="#java" target="rightframe">Oracle JDK</a></li>
		<li><a href="#mysql" target="rightframe">Oracle MySQL</a></li>
		<li><a href="#tomcat" target="rightframe">Apache Tomcat</a></li>
		<li><a href="#apktool" target="rightframe">Android Apktool</a></li>
	</ul>

	Note that AppVet dependencies require Oracle JDK to be installed first.
	<p>
		The following instructions describe the installation of AppVet
		dependencies for CentOS/RedHat, but should be similar for other Linux
		(and Windows) platforms. If you wish to install AppVet on a virtual
		machine (VM), follow the instructions for creating a <a
			class="underline" href="vbox_installation.html">CentOS VirtualBox
			Installation</a>.
	</p>
	<hr>
	<h2 id="java">Oracle JDK</h2>

	AppVet, as well as many of its dependencies, require Oracle (Java) JDK
	to be installed.

	<h3>Removing Non-Oracle JDK (Optional)</h3>

	Some CentOS/RedHat platforms may come pre-installed with OpenJDK Java
	packages that may conflict with Oracle JDK. To check for and uninstall
	OpenJDK on your machine, follow the directions for
	<a class="underline" href="removingOpenJdk.html">Removing OpenJDK</a>.

	<h3>Installation</h3>

	Download the Oracle JDK 8 Linux
	<code>.rpm</code>
	file from:
	<br>
	<br>
	<p style="text-indent: 5em;">
		<a class="underline"
			href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html"
			target="_blank">
			http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html
		</a>
	</p>
	<br>
	<p>Note that Oracle JDK is available for 32-bit (i586) and 64-bit
		(x64) platforms.</p>
	<br> To install the Oracle JDK 8
	<code>.rpm</code>
	file, open a terminal and run:
	<br>
	<br>
	<p style="text-indent: 5em;">
		<code># sudo rpm -ivh
			/path/to/jdk-8&lt;version&gt;-linux-[x64|i586].rpm</code>
	</p>
	<br>
	<br> This will install Oracle JDK in
	<code>/usr/java/jdk1.8.&lt;version&gt;</code>
	.

	<h3>Environment Variables</h3>

	To ensure proper operation of AppVet, the
	<code>$JAVA_HOME</code>
	and
	<code>$JRE_HOME</code>
	(Java Runtime Environment) environment variables must be globally
	defined. Using
	<code>sudo</code>
	, edit
	<code>/etc/profile</code>
	by adding the following to the end of the file:
	<br>
	<p>
	<pre>
		<code>
	#Global Environment Variables
	JAVA_HOME=/usr/java/jdk1.8.&lt;version&gt;
	JRE_HOME=$JAVA_HOME/jre
	PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin
	export JAVA_HOME
	export JRE_HOME
	export PATH
		</code>
		</pre>
	</p>
	Next, reload
	<code>/etc/profile</code>
	by running:
	<br>
	<br>
	<p style="text-indent: 5em;">
		<code># source /etc/profile</code>
	</p>
	<br>
	<br> in all open terminals. To verify that
	<code>$JAVA_HOME</code>
	and
	<code>$JRE_HOME</code>
	have been added to your
	<code>$PATH</code>
	variable, run:
	<br>
	<br>
	<p style="text-indent: 5em;">
		<code># printenv PATH</code>
	</p>
	<br>
	<br> Next, to allow
	<code>$JAVA_HOME</code>
	and
	<code>$JRE_HOME</code>
	to be accessed when using
	<code>sudo</code>
	, open a terminal and run:

	<br>
	<br>
	<p style="text-indent: 5em;">
		<code># sudo visudo</code>
	</p>
	<br>
	<br> From
	<code>visudo</code>
	, add the following line:
	<br>
	<br>
	<p style="text-indent: 5em;">
		<code>Defaults env_keep += "JAVA_HOME JRE_HOME"</code>
	</p>
	<br>
	<br> This will force
	<code>sudo</code>
	to preserve and use the
	<code>$JAVA_HOME</code>
	and
	<code>$JRE_HOME</code>
	environment variables as defined in
	<code>/etc/profile</code>
	(since
	<code>sudo</code>
	typically ignores these environment variables). To verify that
	<code>$JAVA_HOME</code>
	and
	<code>$JRE_HOME</code>
	are now accessible to
	<code>sudo</code>
	, run:
	<br>
	<br>
	<p style="text-indent: 5em;">
		<code># sudo printenv JAVA_HOME</code>
	</p>
	and
	<p style="text-indent: 5em;">
		<code># sudo printenv JRE_HOME</code>
	</p>
	<br>
	<br>


	<h2 id="mysql">MySQL</h2>

	AppVet requires MySQL 5 to be installed. MySQL is used to store
	AppVet-related data including user accounts, app statuses, and session
	data. To install MySQL 5 on CentOS/RedHat 7, follow the instructions for EL7-based 
	platforms at:
	<br>
	<br>
	<p style="text-indent: 5em;">
		<a class="underline" href="https://dev.mysql.com/doc/mysql-repo-excerpt/5.7/en/linux-installation-yum-repo.html"
			target="_blank"> https://dev.mysql.com/doc/mysql-repo-excerpt/5.7/en/linux-installation-yum-repo.html</a>
	</p>
	<br>
	<br>
	Note that you can skip the last section of these instructions "Installing Additional MySQL Products and Components with Yum".
	Further note that when installing MySQL, <i>do not forget your MySQL root password as this will be 
	needed to configure AppVet.</i>

	<h2 id="tomcat">Apache Tomcat</h2>

	<h3>Installation</h3>

	AppVet requires Apache Tomcat 8 to be installed. Tomcat is used to host
	the AppVet web application. To install Apache Tomcat 8 under
	CentOS/RedHat, open a browser and go to:
	<br>
	<br>
	<p style="text-indent: 5em;">
		<a class="underline" href="https://tomcat.apache.org/download-80.cgi"
			target="_blank"> https://tomcat.apache.org/download-80.cgi </a>
	</p>
	<br>
	<br> Next, download the Apache Tomcat 8.x Binary Distribution Core
	<code>tar.gz</code>
	file and extract the compressed tar file into your
	<code>$HOME</code>
	directory :
	<br>
	<br>
	<p style="text-indent: 5em;">
		<code># tar xvzf $HOME/apache-tomat-8.&lt;version&gt;.tar.gz</code>
	</p>
	<br>
	<br> To ensure proper installation of Tomcat, run:
	<br>
	<br>
	<p style="text-indent: 5em;">
		<code># $HOME/apache-tomcat-8.&lt;version&gt;/bin/startup.sh</code>
	</p>
	<br>
	<br> Then, open a web browser and go to:

	<p style="text-indent: 5em;">
		<a class="underline" href="http://127.0.0.1:8080" target="_blank">
			http://127.0.0.1:8080 </a>
	</p>
	or
	<p style="text-indent: 5em;">
		<a class="underline" href="http://localhost:8080" target="_blank">
			http://localhost:8080 </a>
	</p>
	<br>
	<br> If the Apache Tomcat 8.&lt;version&gt; web page is displayed,
	then Tomcat was installed correctly. To shut down Tomcat, run:
	<br>
	<br>
	<p style="text-indent: 5em;">
		<code># $HOME/apache-tomcat-8.&lt;version&gt;/bin/shutdown.sh</code>
	</p>
	<br>
	<br>

	<h3>Environment Variables</h3>

	To ensure proper operation of AppVet, Tomcat's
	<code>$CATALINA_HOME</code>
	and
	<code>$CATALINA_BASE</code>
	environment variables must be globally defined. Assuming Tomcat was
	installed in your
	<code>$HOME</code>
	directory, edit

	<code>/etc/profile</code>
	using
	<code>sudo</code>
	by adding the following (in bold):
	<p>
	<pre>
		<code>
	#Global Environment Variables
	JAVA_HOME=/usr/java/jdk1.8.&lt;version&gt 
	JRE_HOME=$JAVA_HOME/jre
	<b><code>CATALINA_HOME=/home/&lt;username&gt;/apache-tomcat-8.&lt;version&gt;</code></b>
	<b><code>CATALINA_BASE=/home/&lt;username&gt;/apache-tomcat-8.&lt;version&gt;</code></b>
	PATH=$PATH:$HOME/bin:$JAVA_HOME/bin:$JRE_HOME/bin:<b><code>$CATALINA_HOME/bin:$CATALINA_BASE/bin</code></b>
	export JAVA_HOME
	export JRE_HOME
	<b><code>export CATALINA_HOME</code></b>
	<b><code>export CATALINA_BASE</code></b>
	export PATH
		</code>
		</pre>
	</p>
	then reload
	<code>/etc/profile</code>
	by running:
	<br>
	<br>
	<p style="text-indent: 5em;">
		<code># source /etc/profile</code>
	</p>
	<br>
	<br> in all open terminals. To allow
	<code>$CATALINA_HOME</code>
	and
	<code>$CATALINA_BASE</code>
	to be accessed when using
	<code>sudo</code>
	, open a terminal and run:


	<br>
	<br>
	<p style="text-indent: 5em;">
		<code># sudo visudo</code>
	</p>
	<br>
	<br> From
	<code>visudo</code>
	, add
	<code>$CATALINA_HOME</code>
	and
	<code>$CATALINA_BASE</code>
	to the
	<code>env_keep</code>
	variable:
	<br>
	<br>
	<p style="text-indent: 5em;">
		<code>
			Defaults env_keep += "JAVA_HOME JRE_HOME <b><code>CATALINA_HOME
					CATALINA_BASE</code></b>"
		</code>
	</p>
	<br>
	<br>

	<h2 id="apktool">Android Apktool</h2>

	<h3>Installation</h3>

	For Android app analysis, AppVet requires Android Apktool 2.0.x to be
	installed. The Android Apktool is used to extract metadata information
	from Android applications. To install Apktool, follow the
	<a class="underline"
		href="http://ibotpeaches.github.io/Apktool/install/" target="_blank">
		Apktool Installation Instructions</a>. Note that these instructions have
	Apktool being installed in
	<code>/usr/local/bin</code>
	.
	<br>

	<h3>Environment Variables</h3>

	To ensure proper operation of AppVet, the
	<code>$APKTOOL_HOME</code>
	environment variable must be globally defined. Assuming Apktool was
	installed in
	<code>/usr/local/bin</code>
	as described in the installation instructions, edit

	<code>/etc/profile</code>
	using
	<code>sudo</code>
	by adding the following (in bold):
	<p>
	<pre>
		<code>
	#Global Environment Variables
	JAVA_HOME=/usr/java/jdk1.8.&lt;version&gt;
	JRE_HOME=$JAVA_HOME/jre
	CATALINA_HOME=/home/&lt;username&gt;/apache-tomcat-8.&lt;version&gt;
	CATALINA_BASE=/home/&lt;username&gt;/apache-tomcat-8.&lt;version&gt;
	<b><code>APKTOOL_HOME=/usr/local/bin</code></b>
	PATH=$PATH:$HOME/bin:$JAVA_HOME/bin:$JRE_HOME/bin:$CATALINA_HOME/bin:$CATALINA_BASE/bin:<b><code>$APKTOOL_HOME</code></b>
	export JAVA_HOME
	export JRE_HOME
	export CATALINA_HOME
	export CATALINA_BASE
	<b><code>export APKTOOL_HOME</code></b>
	export PATH
		</code>
		</pre>
	</p>
	then reload
	<code>/etc/profile</code>
	by running:
	<br>
	<br>
	<p style="text-indent: 5em;">
		<code># source /etc/profile</code>
	</p>
	<br>
	<br> in all open terminals. To allow
	<code>$APKTOOL_HOME</code>

	to be accessed when using
	<code>sudo</code>
	, open a terminal and run:


	<br>
	<br>
	<p style="text-indent: 5em;">
		<code># sudo visudo</code>
	</p>
	<br>
	<br> From
	<code>visudo</code>
	, add
	<code>$APKTOOL_HOME</code>
	to the
	<code>env_keep</code>
	variable:
	<br>
	<br>
	<p style="text-indent: 5em;">
		<code>
			Defaults env_keep += "JAVA_HOME JRE_HOME CATALINA_HOME CATALINA_BASE
			<b><code>APKTOOL_HOME</code></b>"
		</code>
	</p>
	<br>
	<br> To ensure proper operation of AppVet, the
	<code>$APKTOOL_HOME</code>
	environment variables must be globally defined. Using
	<code>sudo</code>
	, edit
	<code>/etc/profile</code>
	by adding the path for
	<code>$APKTOOL_HOME=/usr/local/bin</code>
	. In addition, add
	<code>APKTOOL_HOME</code>
	to the
	<code>env_keep</code>
	variable in
	<code>visudo</code>
	.
	<p>
		To ensure proper installation of Android Apktool, run: <br> <br>
	<p style="text-indent: 5em;">
		<code># sudo apktool</code>
	</p>
	<br>
	<br>



</body>

</html>